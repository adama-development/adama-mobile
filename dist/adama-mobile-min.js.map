{"version":3,"sources":["app.js","auth/accessDenied.controller.js","auth/app.js","auth/signin.controller.js","btn-signout/app.js","btn-signout/btn-signout.directive.js","datasources/language.datasource.js","datasources/principal-identity.datasource.js","jhipster/app.js","jhipster/jhipster-constant.service.js","jhipster/jhipster-resource-config.service.js","resources/user.resource.js","services/language.provider.js","services/page-title.service.js","jhipster/components/alert/alert.directive.js","jhipster/components/alert/alert.service.js","jhipster/components/util/base64.service.js","jhipster/components/util/parse-links.service.js","jhipster/components/auth/auth.service.js","jhipster/components/auth/authority.directive.js","jhipster/components/auth/principal.service.js","jhipster/components/interceptor/auth.interceptor.js","jhipster/components/interceptor/errorhandler.interceptor.js","jhipster/components/interceptor/notification.interceptor.js","jhipster/components/auth/provider/auth.xauth.service.js","jhipster/components/auth/services/account.service.js","jhipster/components/auth/services/password.service.js"],"names":["angular","module","run","$ionicPlatform","ready","window","cordova","plugins","Keyboard","hideKeyboardAccessoryBar","disableScroll","StatusBar","styleDefault","config","$urlRouterProvider","otherwise","$translateProvider","useSanitizeValueStrategy","useLocalStorage","registerAvailableLanguageKeys","en_*","fr_*","determinePreferredLanguage","fallbackLanguage","$stateProvider","jHipsterConstant","state","abstract","url","templateUrl","adamaMobileToolkitTemplateUrl","app","resolve","authorize","Auth","$rootScope","pageTitle","$on","event","toState","data","set","toParams","fromState","fromParams","error","controller","template","authSignin","controllerAs","authorities","authAccessDenied","translations","SIGNIN","SIGNIN_INTRO","SIGNIN_FORGET_PASSWORD","SIGNIN_USERNAME","SIGNIN_USERNAME_REQUIRED","SIGNIN_PASSWORD","SIGNIN_PASSWORD_REQUIRED","SIGNIN_SUBMIT","SIGNIN_ERROR_TITLE","SIGNIN_ERROR_MESSAGE","ACCESS_DENIED_BACK_TO_HOME","ACCESS_DENIED","ACCESS_DENIED_INTRO","RECOVER_SUBMIT","$state","$filter","$ionicPopup","ctrl","this","signin","userName","userPassword","login","username","password","then","previousStateName","go","back","translateFn","alert","title","BTN_SIGNOUT","directive","restrict","scope","bindToController","signout","logout","$parse","language","link","element","attrs","getAll","languages","assign","Principal","identity","account","toStateParams","isIdentityResolved","name","previousStateParams","get","$httpProvider","interceptors","push","constant","apiBase","appModule","factory","ParseLinks","query","method","isArray","transformResponse","headers","status","fromJson","$metadata","links","parse","totalItems","interceptor","response","resource","save","update","delete","params","id","$resource","jHipsterResourceConfig","extend","provider","selectorData","code","labelKey","cssCLass","setLanguages","newLanguages","setSelectorData","newSelectorData","$get","$q","$http","$translate","api","getCurrent","storage","isUndefined","when","getSelectorData","pageTitleKey","newTitle","AlertService","$scope","alerts","addErrorAlert","message","key","add","type","msg","timeout","toast","isToast","scoped","cleanHttpErrorListener","httpResponse","i","stopPropagation","errorHeader","entityKey","entityName","instant","fieldErrors","length","fieldError","convertedField","field","replace","fieldName","objectName","JSON","stringify","undefined","$timeout","$sce","alertId","clear","closeAlertByIndex","index","thisAlerts","splice","closeAlert","extAlerts","map","e","indexOf","alertOptions","trustAsHtml","position","close","addAlert","success","warning","info","showAsToast","service","keyStr","encode","input","chr1","chr2","enc1","enc2","enc3","output","chr3","enc4","charCodeAt","isNaN","charAt","decode","String","fromCharCode","$window","localStorage","getItem","setItem","remove","removeItem","clearAll","header","Error","parts","split","forEach","p","section","trim","queryString","RegExp","$0","$1","$2","$3","page","isString","parseInt","AuthServerProvider","Account","Password","PasswordResetInit","PasswordResetFinish","credentials","callback","cb","noop","deferred","defer","use","langKey","err","reject","bind","promise","authenticate","previousStateNameParams","force","isAuthenticated","hasAnyAuthority","updateAccount","$emit","$promise","changePassword","newPassword","resetPasswordInit","mail","resetPasswordFinish","keyAndPassword","setVisible","removeClass","setHidden","addClass","defineVisibility","reset","result","$watch","authority","hasAuthority","_identity","_authenticated","isDefined","_id","$location","localStorageService","request","token","expires","Date","getTime","$injector","responseError","path","alertKey","param","Base64","encodeURIComponent","post","Content-Type","Accept","getToken","hasValidToken"],"mappings":"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","file":"adama-mobile-min.js","sourcesContent":["/* globals StatusBar:false, cordova: false */\n\n'use strict';\n\nangular.module('adama-mobile', [ //\n\t'ionic', //\n\t'pascalprecht.translate', //\n\t'ngCookies', //\n\t'ngResource', //\n\t'LocalStorageModule', //\n\t'ngMessages' //\n]);\n\nangular.module('adama-mobile').run([\"$ionicPlatform\", function($ionicPlatform) {\n\t$ionicPlatform.ready(function() {\n\t\tif (window.cordova && window.cordova.plugins.Keyboard) {\n\t\t\t// Hide the accessory bar by default (remove this to show the\n\t\t\t// accessory bar above the keyboard\n\t\t\t// for form inputs)\n\t\t\tcordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);\n\n\t\t\t// Don't remove this line unless you know what you are doing. It\n\t\t\t// stops the viewport\n\t\t\t// from snapping when text inputs are focused. Ionic handles this\n\t\t\t// internally for\n\t\t\t// a much nicer keyboard experience.\n\t\t\tcordova.plugins.Keyboard.disableScroll(true);\n\t\t}\n\t\tif (window.StatusBar) {\n\t\t\tStatusBar.styleDefault();\n\t\t}\n\t});\n}]);\n\nangular.module('adama-mobile').config([\"$urlRouterProvider\", function($urlRouterProvider) {\n\t$urlRouterProvider.otherwise('/app/');\n}]);\n\nangular.module('adama-mobile').config([\"$translateProvider\", function($translateProvider) {\n\t$translateProvider.useSanitizeValueStrategy('escapeParameters');\n\n\t$translateProvider.useLocalStorage();\n\n\t$translateProvider.registerAvailableLanguageKeys(['en', 'fr'], {\n\t\t'en_*': 'en',\n\t\t'fr_*': 'fr'\n\t});\n\n\t$translateProvider.determinePreferredLanguage().fallbackLanguage('en');\n}]);\n\nangular.module('adama-mobile').config([\"$stateProvider\", \"jHipsterConstant\", function($stateProvider, jHipsterConstant) {\n\t$stateProvider.state('app', {\n\t\tabstract: true,\n\t\turl: '/app',\n\t\ttemplateUrl: function() {\n\t\t\treturn jHipsterConstant.adamaMobileToolkitTemplateUrl.app;\n\t\t},\n\t\tresolve: {\n\t\t\tauthorize: [\"Auth\", function(Auth) {\n\t\t\t\treturn Auth.authorize();\n\t\t\t}]\n\t\t}\n\t});\n}]);\n\nangular.module('adama-mobile').run([\"$rootScope\", \"pageTitle\", function($rootScope, pageTitle) {\n\t$rootScope.$on('$stateChangeSuccess', function(event, toState) {\n\t\tif (toState && toState.data && toState.data.pageTitle) {\n\t\t\tpageTitle.set(toState.data.pageTitle);\n\t\t}\n\t});\n}]);\n\nangular.module('adama-mobile').run([\"$rootScope\", function($rootScope) {\n\t$rootScope.$on('$stateChangeError', function(event, toState, toParams, fromState, fromParams, error) {\n\t\tthrow error;\n\t});\n}]);\n","'use strict';\n\nangular.module('adama-mobile').controller('AccessDeniedCtrl', function() {\n\t// nothing to do\n});\n","'use strict';\n\nangular.module('adama-mobile').config([\"$stateProvider\", \"jHipsterConstant\", function($stateProvider, jHipsterConstant) {\n\t$stateProvider.state('auth', {\n\t\tabstract: true,\n\t\turl: '/auth',\n\t\ttemplate: '' + //\n\t\t\t'<ui-view></ui-view>' + //\n\t\t\t''\n\t});\n\n\t$stateProvider.state('auth.signin', {\n\t\turl: '/',\n\t\ttemplateUrl: function() {\n\t\t\treturn jHipsterConstant.adamaMobileToolkitTemplateUrl.authSignin;\n\t\t},\n\t\tcontroller: 'SigninCtrl',\n\t\tcontrollerAs: 'ctrl',\n\t\tdata: {\n\t\t\tpageTitle: 'SIGNIN',\n\t\t\tauthorities: []\n\t\t}\n\t});\n\n\t$stateProvider.state('auth.accessDenied', {\n\t\turl: '/accessDenied',\n\t\ttemplateUrl: function() {\n\t\t\treturn jHipsterConstant.adamaMobileToolkitTemplateUrl.authAccessDenied;\n\t\t},\n\t\tcontroller: 'AccessDeniedCtrl',\n\t\tcontrollerAs: 'ctrl',\n\t\tdata: {\n\t\t\tpageTitle: 'ACCESS_DENIED',\n\t\t\tauthorities: []\n\t\t}\n\t});\n}]);\n\nangular.module('adama-mobile').config([\"$translateProvider\", function($translateProvider) {\n\t$translateProvider.translations('fr', {\n\t\t'SIGNIN': 'Identification',\n\t\t'SIGNIN_INTRO': 'Identifiez-vous pour démarrer votre session',\n\t\t'SIGNIN_FORGET_PASSWORD': 'J\\'ai oublié mon mot de passe ...',\n\t\t'SIGNIN_USERNAME': 'Identifiant',\n\t\t'SIGNIN_USERNAME_REQUIRED': 'L\\'identifiant est obligatoire',\n\t\t'SIGNIN_PASSWORD': 'Mot de passe',\n\t\t'SIGNIN_PASSWORD_REQUIRED': 'Le mot de passe est obligatoire',\n\t\t'SIGNIN_SUBMIT': 'Démarrer la session',\n\t\t'SIGNIN_ERROR_TITLE': 'Erreur d\\'authentification',\n\t\t'SIGNIN_ERROR_MESSAGE': 'Identifiant ou mot de passe incorrect.',\n\t\t'ACCESS_DENIED_BACK_TO_HOME': 'Retour à l\\'accueil',\n\t\t'ACCESS_DENIED': 'Accès interdit',\n\t\t'ACCESS_DENIED_INTRO': 'Vous n\\'avez pas suffisamment de droits d\\'accéder à cette page.'\n\t});\n\n\t$translateProvider.translations('en', {\n\t\t'SIGNIN': 'Signin',\n\t\t'SIGNIN_INTRO': 'Sign in to start your session',\n\t\t'SIGNIN_FORGET_PASSWORD': 'I forgot my password ...',\n\t\t'SIGNIN_USERNAME': 'Username',\n\t\t'SIGNIN_USERNAME_REQUIRED': 'Username is required',\n\t\t'SIGNIN_PASSWORD': 'Password',\n\t\t'SIGNIN_PASSWORD_REQUIRED': 'Password is required',\n\t\t'SIGNIN_SUBMIT': 'Start session',\n\t\t'SIGNIN_ERROR_TITLE': 'Authentication error',\n\t\t'SIGNIN_ERROR_MESSAGE': 'Username or password are incorrect.',\n\t\t'RECOVER_SUBMIT': 'Retrieve my password',\n\t\t'ACCESS_DENIED_BACK_TO_HOME': 'Back to home',\n\t\t'ACCESS_DENIED': 'Access denied',\n\t\t'ACCESS_DENIED_INTRO': 'You do not have enough privileges to access this page.'\n\t});\n}]);\n","'use strict';\n\nangular.module('adama-mobile').controller('SigninCtrl', [\"$rootScope\", \"$state\", \"Auth\", \"$filter\", \"$ionicPopup\", function($rootScope, $state, Auth, $filter, $ionicPopup) {\n\tvar ctrl = this;\n\tctrl.signin = function(userName, userPassword) {\n\t\tAuth.login({\n\t\t\tusername: userName,\n\t\t\tpassword: userPassword\n\t\t}).then(function() {\n\t\t\tif ($rootScope.previousStateName === 'auth.signin') {\n\t\t\t\t$state.go('app.main');\n\t\t\t} else {\n\t\t\t\t$rootScope.back();\n\t\t\t}\n\t\t}).catch(function() {\n\t\t\tvar translateFn = $filter('translate');\n\t\t\t$ionicPopup.alert({\n\t\t\t\ttitle: translateFn('SIGNIN_ERROR_TITLE'),\n\t\t\t\ttemplate: translateFn('SIGNIN_ERROR_MESSAGE')\n\t\t\t});\n\t\t});\n\t};\n}]);\n","'use strict';\n\nangular.module('adama-mobile').config([\"$translateProvider\", function($translateProvider) {\n\t$translateProvider.translations('fr', {\n\t\t'BTN_SIGNOUT': 'Déconnexion'\n\t});\n\n\t$translateProvider.translations('en', {\n\t\t'BTN_SIGNOUT': 'Sign out'\n\t});\n}]);\n","'use strict';\n\nangular.module('adama-mobile').directive('btnSignout', function() {\n\treturn {\n\t\ttemplateUrl: 'adama-mobile/btn-signout/btn-signout.html',\n\t\trestrict: 'E',\n\t\tscope: {},\n\t\tbindToController: {},\n\t\tcontroller: [\"Auth\", \"$state\", function(Auth, $state) {\n\t\t\tvar ctrl = this;\n\t\t\tctrl.signout = function() {\n\t\t\t\tAuth.logout();\n\t\t\t\t$state.go('auth.signin');\n\t\t\t};\n\t\t}],\n\t\tcontrollerAs: 'ctrl'\n\t};\n});\n","'use strict';\n\nangular.module('adama-mobile').directive('dsLanguage', [\"$parse\", \"language\", function($parse, language) {\n\treturn {\n\t\tscope: false,\n\t\tlink: function(scope, element, attrs) {\n\t\t\tlanguage.getAll().then(function(languages) {\n\t\t\t\t$parse(attrs.data).assign(scope, languages);\n\t\t\t});\n\t\t}\n\t};\n}]);\n","'use strict';\n\nangular.module('adama-mobile').directive('dsPrincipalIdentity', [\"$parse\", \"Principal\", function($parse, Principal) {\n\treturn {\n\t\tscope: false,\n\t\tlink: function(scope, element, attrs) {\n\t\t\tPrincipal.identity().then(function(account) {\n\t\t\t\t$parse(attrs.data).assign(scope, account);\n\t\t\t});\n\t\t}\n\t};\n}]);\n","'use strict';\n\nangular.module('adama-mobile').run([\"$rootScope\", \"$state\", \"Principal\", \"Auth\", function($rootScope, $state, Principal, Auth) {\n\t$rootScope.$on('$stateChangeStart', function(event, toState, toStateParams) {\n\t\t$rootScope.toState = toState;\n\t\t$rootScope.toStateParams = toStateParams;\n\t\tif (Principal.isIdentityResolved()) {\n\t\t\tAuth.authorize();\n\t\t}\n\t});\n\n\t$rootScope.$on('$stateChangeSuccess', function(event, toState, toParams, fromState, fromParams) {\n\t\t// Remember previous state unless we've been redirected to login or\n\t\t// we've just reset the state memory after logout. If we're redirected\n\t\t// to login, our previousState is already set in the\n\t\t// authExpiredInterceptor. If we're going to login directly, we don't\n\t\t// want to be sent to some previous state anyway\n\t\tif (toState.name !== 'auth.signin' && $rootScope.previousStateName) {\n\t\t\t$rootScope.previousStateName = fromState.name;\n\t\t\t$rootScope.previousStateParams = fromParams;\n\t\t}\n\t});\n\n\t$rootScope.back = function() {\n\t\t// If previous state is 'activate' or do not exist go to 'home'\n\t\tif ($state.get($rootScope.previousStateName) === null) {\n\t\t\t$state.go('app.main');\n\t\t} else {\n\t\t\t$state.go($rootScope.previousStateName, $rootScope.previousStateParams);\n\t\t}\n\t};\n}]);\n\nangular.module('adama-mobile').config([\"$httpProvider\", function($httpProvider) {\n\t// $httpProvider.interceptors.push('errorHandlerInterceptor');\n\t$httpProvider.interceptors.push('authExpiredInterceptor');\n\t$httpProvider.interceptors.push('authInterceptor');\n\t// $httpProvider.interceptors.push('notificationInterceptor');\n}]);\n","'use strict';\n\nangular.module('adama-mobile').constant('jHipsterConstant', {\n\tapiBase: 'http://localhost:13337/',\n\tappModule: 'mySuperApp',\n\tadamaMobileToolkitTemplateUrl: {\n\t\tapp: 'adama-mobile/app.html',\n\t\tauthAccessDenied: 'adama-mobile/auth/accessDenied.html',\n\t\tauthSignin: 'adama-mobile/auth/signin.html'\n\t}\n});\n","'use strict';\n\nangular.module('adama-mobile').factory('jHipsterResourceConfig', [\"ParseLinks\", function(ParseLinks) {\n\treturn {\n\t\t'query': {\n\t\t\tmethod: 'GET',\n\t\t\tisArray: true,\n\t\t\ttransformResponse: function(data, headers, status) {\n\t\t\t\tdata = angular.fromJson(data);\n\t\t\t\tif (status === 200) {\n\t\t\t\t\tdata.$metadata = {\n\t\t\t\t\t\tlinks: ParseLinks.parse(headers('link')),\n\t\t\t\t\t\ttotalItems: headers('X-Total-Count')\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn data;\n\t\t\t},\n\t\t\tinterceptor: {\n\t\t\t\tresponse: function(response) {\n\t\t\t\t\tresponse.resource.$metadata = response.data.$metadata;\n\t\t\t\t\treturn response.resource;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'get': {\n\t\t\tmethod: 'GET'\n\t\t},\n\t\t'save': {\n\t\t\tmethod: 'POST'\n\t\t},\n\t\t'update': {\n\t\t\tmethod: 'PUT'\n\t\t},\n\t\t'delete': {\n\t\t\tmethod: 'DELETE',\n\t\t\tparams: {\n\t\t\t\tid: '@id'\n\t\t\t}\n\t\t}\n\t};\n}]);\n","'use strict';\n\nangular.module('adama-mobile').factory('User', [\"$resource\", \"jHipsterConstant\", \"jHipsterResourceConfig\", function($resource, jHipsterConstant, jHipsterResourceConfig) {\n\tvar config = angular.extend({}, jHipsterResourceConfig, {\n\t\t'delete': {\n\t\t\tmethod: 'DELETE',\n\t\t\tparams: {\n\t\t\t\tlogin: '@login'\n\t\t\t}\n\t\t}\n\t});\n\treturn $resource(jHipsterConstant.apiBase + 'api/users/:login', {}, config);\n}]);\n","'use strict';\n\nangular.module('adama-mobile').provider('language', function() {\n\tvar languages = ['en', 'fr'];\n\tvar selectorData = [{\n\t\tcode: 'en',\n\t\tlabelKey: 'FLAG_EN',\n\t\tcssCLass: 'us'\n\t}, {\n\t\tcode: 'fr',\n\t\tlabelKey: 'FLAG_FR',\n\t\tcssCLass: 'fr'\n\t}];\n\n\tthis.setLanguages = function(newLanguages) {\n\t\tlanguages = newLanguages;\n\t};\n\n\tthis.setSelectorData = function(newSelectorData) {\n\t\tselectorData = newSelectorData;\n\t};\n\n\tthis.$get = [\"$q\", \"$http\", \"$translate\", function($q, $http, $translate) {\n\t\tvar api = {};\n\n\t\tapi.getCurrent = function() {\n\t\t\tvar language = $translate.storage().get('NG_TRANSLATE_LANG_KEY');\n\t\t\tif (angular.isUndefined(language)) {\n\t\t\t\tlanguage = 'en';\n\t\t\t}\n\t\t\treturn $q.when(language);\n\t\t};\n\n\t\tapi.getAll = function() {\n\t\t\treturn $q.when(languages);\n\t\t};\n\n\t\tapi.getSelectorData = function() {\n\t\t\treturn $q.when(selectorData);\n\t\t};\n\n\t\treturn api;\n\t}];\n});\n","'use strict';\n\nangular.module('adama-mobile').factory('pageTitle', [\"$rootScope\", \"$filter\", function($rootScope, $filter) {\n\tvar translateFn = $filter('translate');\n\tvar api = {};\n\n\tapi.set = function(pageTitleKey) {\n\t\tvar newTitle = translateFn(pageTitleKey);\n\t\t$rootScope.pageTitle = newTitle;\n\t};\n\n\treturn api;\n}]);\n","'use strict';\n\nangular.module('adama-mobile')\n\t.directive('jhAlert', [\"AlertService\", function(AlertService) {\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplate: '<div class=\"content-wrapper\" ng-cloak ng-if=\"alerts && alerts.length\">' +\n\t\t\t\t'<div class=\"box-body\">' +\n\t\t\t\t'<div ng-repeat=\"alert in alerts\" class=\"alert alert-dismissible\" ng-class=\"\\'alert-\\' + alert.type\">' +\n\t\t\t\t'<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">×</button>' +\n\t\t\t\t'{{ alert.msg }}' +\n\t\t\t\t'</div>' +\n\t\t\t\t'</div>' +\n\t\t\t\t'</div>',\n\t\t\tcontroller: ['$scope',\n\t\t\t\tfunction($scope) {\n\t\t\t\t\t$scope.alerts = AlertService.get();\n\t\t\t\t\t$scope.$on('$destroy', function() {\n\t\t\t\t\t\t$scope.alerts = [];\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t}])\n\t.directive('jhAlertError', [\"AlertService\", \"$rootScope\", \"$translate\", function(AlertService, $rootScope, $translate) {\n\t\treturn {\n\t\t\trestrict: 'E',\n\t\t\ttemplate: '<div class=\"alerts\" ng-if=\"alerts && alerts.length\">' +\n\t\t\t\t'<div ng-repeat=\"alert in alerts\" class=\"alert alert-dismissible\" ng-class=\"\\'alert-\\' + alert.type\">' +\n\t\t\t\t'<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">×</button>' +\n\t\t\t\t'{{ alert.msg }}' +\n\t\t\t\t'</div>' +\n\t\t\t\t'</div>',\n\t\t\tcontroller: ['$scope', 'jHipsterConstant',\n\t\t\t\tfunction($scope, jHipsterConstant) {\n\n\t\t\t\t\t$scope.alerts = [];\n\n\t\t\t\t\tvar addErrorAlert = function(message, key, data) {\n\t\t\t\t\t\tkey = key && key !== null ? key : message;\n\t\t\t\t\t\t$scope.alerts.push(\n\t\t\t\t\t\t\tAlertService.add({\n\t\t\t\t\t\t\t\t\ttype: 'danger',\n\t\t\t\t\t\t\t\t\tmsg: key,\n\t\t\t\t\t\t\t\t\tparams: data,\n\t\t\t\t\t\t\t\t\ttimeout: 5000,\n\t\t\t\t\t\t\t\t\ttoast: AlertService.isToast(),\n\t\t\t\t\t\t\t\t\tscoped: true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t$scope.alerts\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t};\n\n\t\t\t\t\tvar cleanHttpErrorListener = $rootScope.$on(jHipsterConstant.appModule + '.httpError', function(event, httpResponse) {\n\t\t\t\t\t\tvar i;\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tswitch (httpResponse.status) {\n\t\t\t\t\t\t\t// connection refused, server not reachable\n\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\taddErrorAlert('Server not reachable', 'error.server.not.reachable');\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 400:\n\t\t\t\t\t\t\t\tvar errorHeader = httpResponse.headers('X-' + jHipsterConstant.appModule + '-error');\n\t\t\t\t\t\t\t\tvar entityKey = httpResponse.headers('X-' + jHipsterConstant.appModule + '-params');\n\t\t\t\t\t\t\t\tif (errorHeader) {\n\t\t\t\t\t\t\t\t\tvar entityName = $translate.instant('global.menu.entities.' + entityKey);\n\t\t\t\t\t\t\t\t\taddErrorAlert(errorHeader, errorHeader, {\n\t\t\t\t\t\t\t\t\t\tentityName: entityName\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else if (httpResponse.data && httpResponse.data.fieldErrors) {\n\t\t\t\t\t\t\t\t\tfor (i = 0; i < httpResponse.data.fieldErrors.length; i++) {\n\t\t\t\t\t\t\t\t\t\tvar fieldError = httpResponse.data.fieldErrors[i];\n\t\t\t\t\t\t\t\t\t\t// convert 'something[14].other[4].id'\n\t\t\t\t\t\t\t\t\t\t// to 'something[].other[].id' so\n\t\t\t\t\t\t\t\t\t\t// translations can be written to it\n\t\t\t\t\t\t\t\t\t\tvar convertedField = fieldError.field.replace(/\\[\\d*\\]/g, '[]');\n\t\t\t\t\t\t\t\t\t\tvar fieldName = $translate.instant(jHipsterConstant.appModule + '.' + fieldError.objectName + '.' + convertedField);\n\t\t\t\t\t\t\t\t\t\taddErrorAlert('Field ' + fieldName + ' cannot be empty', 'error.' + fieldError.message, {\n\t\t\t\t\t\t\t\t\t\t\tfieldName: fieldName\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (httpResponse.data && httpResponse.data.message) {\n\t\t\t\t\t\t\t\t\taddErrorAlert(httpResponse.data.message, httpResponse.data.message, httpResponse.data);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\taddErrorAlert(httpResponse.data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tif (httpResponse.data && httpResponse.data.message) {\n\t\t\t\t\t\t\t\t\taddErrorAlert(httpResponse.data.message);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\taddErrorAlert(JSON.stringify(httpResponse));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t$scope.$on('$destroy', function() {\n\t\t\t\t\t\tif (cleanHttpErrorListener !== undefined && cleanHttpErrorListener !== null) {\n\t\t\t\t\t\t\tcleanHttpErrorListener();\n\t\t\t\t\t\t\t$scope.alerts = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t}]);\n","'use strict';\n\nangular.module('adama-mobile')\n\t.provider('AlertService', function() {\n\t\tvar toast = false;\n\n\t\tthis.$get = ['$timeout', '$sce', '$translate', function($timeout, $sce, $translate) {\n\n\t\t\tvar alertId = 0; // unique id for each alert. Starts from 0.\n\t\t\tvar alerts = [];\n\t\t\tvar timeout = 5000; // default timeout\n\n\t\t\tvar isToast = function() {\n\t\t\t\treturn toast;\n\t\t\t};\n\n\t\t\tvar clear = function() {\n\t\t\t\talerts = [];\n\t\t\t};\n\n\t\t\tvar get = function() {\n\t\t\t\treturn alerts;\n\t\t\t};\n\n\t\t\tvar closeAlertByIndex = function(index, thisAlerts) {\n\t\t\t\treturn thisAlerts.splice(index, 1);\n\t\t\t};\n\n\t\t\tvar closeAlert = function(id, extAlerts) {\n\t\t\t\tvar thisAlerts = extAlerts ? extAlerts : alerts;\n\t\t\t\treturn closeAlertByIndex(thisAlerts.map(function(e) {\n\t\t\t\t\treturn e.id;\n\t\t\t\t}).indexOf(id), thisAlerts);\n\t\t\t};\n\n\t\t\tvar factory = function(alertOptions) {\n\t\t\t\tvar alert = {\n\t\t\t\t\ttype: alertOptions.type,\n\t\t\t\t\tmsg: $sce.trustAsHtml(alertOptions.msg),\n\t\t\t\t\tid: alertOptions.alertId,\n\t\t\t\t\ttimeout: alertOptions.timeout,\n\t\t\t\t\ttoast: alertOptions.toast,\n\t\t\t\t\tposition: alertOptions.position ? alertOptions.position : 'top right',\n\t\t\t\t\tscoped: alertOptions.scoped,\n\t\t\t\t\tclose: function(alerts) {\n\t\t\t\t\t\treturn closeAlert(this.id, alerts);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (!alert.scoped) {\n\t\t\t\t\talerts.push(alert);\n\t\t\t\t}\n\t\t\t\treturn alert;\n\t\t\t};\n\n\t\t\tvar addAlert = function(alertOptions, extAlerts) {\n\t\t\t\talertOptions.alertId = alertId++;\n\t\t\t\talertOptions.msg = $translate.instant(alertOptions.msg, alertOptions.params);\n\t\t\t\tvar alert = factory(alertOptions);\n\t\t\t\tif (alertOptions.timeout && alertOptions.timeout > 0) {\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\tcloseAlert(alertOptions.alertId, extAlerts);\n\t\t\t\t\t}, alertOptions.timeout);\n\t\t\t\t}\n\t\t\t\treturn alert;\n\t\t\t};\n\n\t\t\tvar success = function(msg, params, position) {\n\t\t\t\treturn addAlert({\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tmsg: msg,\n\t\t\t\t\tparams: params,\n\t\t\t\t\ttimeout: timeout,\n\t\t\t\t\ttoast: toast,\n\t\t\t\t\tposition: position\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar error = function(msg, params, position) {\n\t\t\t\treturn addAlert({\n\t\t\t\t\ttype: 'danger',\n\t\t\t\t\tmsg: msg,\n\t\t\t\t\tparams: params,\n\t\t\t\t\ttimeout: timeout,\n\t\t\t\t\ttoast: toast,\n\t\t\t\t\tposition: position\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar warning = function(msg, params, position) {\n\t\t\t\treturn addAlert({\n\t\t\t\t\ttype: 'warning',\n\t\t\t\t\tmsg: msg,\n\t\t\t\t\tparams: params,\n\t\t\t\t\ttimeout: timeout,\n\t\t\t\t\ttoast: toast,\n\t\t\t\t\tposition: position\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tvar info = function(msg, params, position) {\n\t\t\t\treturn addAlert({\n\t\t\t\t\ttype: 'info',\n\t\t\t\t\tmsg: msg,\n\t\t\t\t\tparams: params,\n\t\t\t\t\ttimeout: timeout,\n\t\t\t\t\ttoast: toast,\n\t\t\t\t\tposition: position\n\t\t\t\t});\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tfactory: factory,\n\t\t\t\tisToast: isToast,\n\t\t\t\tadd: addAlert,\n\t\t\t\tcloseAlert: closeAlert,\n\t\t\t\tcloseAlertByIndex: closeAlertByIndex,\n\t\t\t\tclear: clear,\n\t\t\t\tget: get,\n\t\t\t\tsuccess: success,\n\t\t\t\terror: error,\n\t\t\t\tinfo: info,\n\t\t\t\twarning: warning\n\t\t\t};\n\t\t}];\n\n\t\tthis.showAsToast = function(isToast) {\n\t\t\ttoast = isToast;\n\t\t};\n\n\t});\n","/*jshint bitwise: false*/\n'use strict';\n\nangular.module('adama-mobile').service('Base64', function() {\n\tvar keyStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\tthis.encode = function(input) {\n\t\tvar output = '';\n\t\tvar chr1, chr2, enc1, enc2, enc3;\n\t\tvar chr3 = '';\n\t\tvar enc4 = '';\n\t\tvar i = 0;\n\n\t\twhile (i < input.length) {\n\t\t\tchr1 = input.charCodeAt(i++);\n\t\t\tchr2 = input.charCodeAt(i++);\n\t\t\tchr3 = input.charCodeAt(i++);\n\n\t\t\tenc1 = chr1 >> 2;\n\t\t\tenc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n\t\t\tenc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n\t\t\tenc4 = chr3 & 63;\n\n\t\t\tif (isNaN(chr2)) {\n\t\t\t\tenc3 = enc4 = 64;\n\t\t\t} else if (isNaN(chr3)) {\n\t\t\t\tenc4 = 64;\n\t\t\t}\n\n\t\t\toutput = output + keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);\n\t\t\tchr1 = chr2 = chr3 = '';\n\t\t\tenc1 = enc2 = enc3 = enc4 = '';\n\t\t}\n\n\t\treturn output;\n\t};\n\n\tthis.decode = function(input) {\n\t\tvar output = '';\n\t\tvar chr1, chr2, enc1, enc2, enc3;\n\t\tvar chr3 = '';\n\t\tvar enc4 = '';\n\t\tvar i = 0;\n\n\t\t// remove all characters that are not A-Z, a-z, 0-9, +, /, or =\n\t\tinput = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, '');\n\n\t\twhile (i < input.length) {\n\t\t\tenc1 = keyStr.indexOf(input.charAt(i++));\n\t\t\tenc2 = keyStr.indexOf(input.charAt(i++));\n\t\t\tenc3 = keyStr.indexOf(input.charAt(i++));\n\t\t\tenc4 = keyStr.indexOf(input.charAt(i++));\n\n\t\t\tchr1 = (enc1 << 2) | (enc2 >> 4);\n\t\t\tchr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n\t\t\tchr3 = ((enc3 & 3) << 6) | enc4;\n\n\t\t\toutput = output + String.fromCharCode(chr1);\n\n\t\t\tif (enc3 !== 64) {\n\t\t\t\toutput = output + String.fromCharCode(chr2);\n\t\t\t}\n\t\t\tif (enc4 !== 64) {\n\t\t\t\toutput = output + String.fromCharCode(chr3);\n\t\t\t}\n\n\t\t\tchr1 = chr2 = chr3 = '';\n\t\t\tenc1 = enc2 = enc3 = enc4 = '';\n\t\t}\n\t};\n}).factory('StorageService', [\"$window\", function($window) {\n\treturn {\n\n\t\tget: function(key) {\n\t\t\treturn JSON.parse($window.localStorage.getItem(key));\n\t\t},\n\n\t\tsave: function(key, data) {\n\t\t\t$window.localStorage.setItem(key, JSON.stringify(data));\n\t\t},\n\n\t\tremove: function(key) {\n\t\t\t$window.localStorage.removeItem(key);\n\t\t},\n\n\t\tclearAll: function() {\n\t\t\t$window.localStorage.clear();\n\t\t}\n\t};\n}]);\n","'use strict';\n\nangular.module('adama-mobile')\n\t.service('ParseLinks', function() {\n\t\tthis.parse = function(header) {\n\t\t\tif (header.length === 0) {\n\t\t\t\tthrow new Error('input must not be of zero length');\n\t\t\t}\n\n\t\t\t// Split parts by comma\n\t\t\tvar parts = header.split(',');\n\t\t\tvar links = {};\n\t\t\t// Parse each part into a named link\n\t\t\tangular.forEach(parts, function(p) {\n\t\t\t\tvar section = p.split(';');\n\t\t\t\tif (section.length !== 2) {\n\t\t\t\t\tthrow new Error('section could not be split on \";\"');\n\t\t\t\t}\n\t\t\t\tvar url = section[0].replace(/<(.*)>/, '$1').trim();\n\t\t\t\tvar queryString = {};\n\t\t\t\turl.replace(\n\t\t\t\t\tnew RegExp('([^?=&]+)(=([^&]*))?', 'g'),\n\t\t\t\t\tfunction($0, $1, $2, $3) {\n\t\t\t\t\t\tqueryString[$1] = $3;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tvar page = queryString.page;\n\t\t\t\tif (angular.isString(page)) {\n\t\t\t\t\tpage = parseInt(page);\n\t\t\t\t}\n\t\t\t\tvar name = section[1].replace(/rel='(.*)'/, '$1').trim();\n\t\t\t\tlinks[name] = page;\n\t\t\t});\n\n\t\t\treturn links;\n\t\t};\n\t});\n","'use strict';\n\nangular.module('adama-mobile')\n\t.factory('Auth', [\"$rootScope\", \"$state\", \"$q\", \"$translate\", \"Principal\", \"AuthServerProvider\", \"Account\", \"Password\", \"PasswordResetInit\", \"PasswordResetFinish\", function Auth($rootScope, $state, $q, $translate, Principal, AuthServerProvider, Account, Password, PasswordResetInit, PasswordResetFinish) {\n\t\treturn {\n\t\t\tlogin: function(credentials, callback) {\n\t\t\t\tvar cb = callback || angular.noop;\n\t\t\t\tvar deferred = $q.defer();\n\n\t\t\t\tAuthServerProvider.login(credentials).then(function(data) {\n\t\t\t\t\t// retrieve the logged account information\n\t\t\t\t\tPrincipal.identity(true).then(function(account) {\n\t\t\t\t\t\t// After the login the language will be changed to\n\t\t\t\t\t\t// the language selected by the user during his registration\n\t\t\t\t\t\t$translate.use(account.langKey);\n\t\t\t\t\t\tdeferred.resolve(data);\n\t\t\t\t\t});\n\t\t\t\t\treturn cb();\n\t\t\t\t}).catch(function(err) {\n\t\t\t\t\tthis.logout();\n\t\t\t\t\tdeferred.reject(err);\n\t\t\t\t\treturn cb(err);\n\t\t\t\t}.bind(this));\n\n\t\t\t\treturn deferred.promise;\n\t\t\t},\n\n\t\t\tlogout: function() {\n\t\t\t\tAuthServerProvider.logout();\n\t\t\t\tPrincipal.authenticate(null);\n\t\t\t\t// Reset state memory\n\t\t\t\t$rootScope.previousStateName = undefined;\n\t\t\t\t$rootScope.previousStateNameParams = undefined;\n\t\t\t},\n\n\t\t\tauthorize: function(force) {\n\t\t\t\treturn Principal.identity(force)\n\t\t\t\t\t.then(function() {\n\t\t\t\t\t\tvar isAuthenticated = Principal.isAuthenticated();\n\t\t\t\t\t\t// an authenticated user can't access to login pages\n\t\t\t\t\t\tif (isAuthenticated && $rootScope.toState.name && $rootScope.toState.name === 'auth.signin') {\n\t\t\t\t\t\t\t$state.go('app.main');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ((!$rootScope.toState.data || !$rootScope.toState.data.authorities) && !isAuthenticated) {\n\t\t\t\t\t\t\t// user is not signed in but desired state nneds an authenticated user\n\t\t\t\t\t\t\t$state.go('auth.signin');\n\t\t\t\t\t\t} else if ($rootScope.toState.data && //\n\t\t\t\t\t\t\t$rootScope.toState.data.authorities && //\n\t\t\t\t\t\t\t$rootScope.toState.data.authorities.length > 0 && //\n\t\t\t\t\t\t\t!Principal.hasAnyAuthority($rootScope.toState.data.authorities) //\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (isAuthenticated) {\n\t\t\t\t\t\t\t\t// user is signed in but not authorized for desired state\n\t\t\t\t\t\t\t\t$state.go('auth.accessDenied');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// user is not authenticated. stow the state they wanted before you\n\t\t\t\t\t\t\t\t// send them to the signin state, so you can return them when you're done\n\t\t\t\t\t\t\t\t$rootScope.previousStateName = $rootScope.toState;\n\t\t\t\t\t\t\t\t$rootScope.previousStateNameParams = $rootScope.toStateParams;\n\t\t\t\t\t\t\t\t// now, send them to the signin state so they can log in\n\t\t\t\t\t\t\t\t$state.go('auth.signin');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tupdateAccount: function(account, callback) {\n\t\t\t\tvar cb = callback || angular.noop;\n\n\t\t\t\treturn Account.save(account,\n\t\t\t\t\tfunction() {\n\t\t\t\t\t\t$rootScope.$emit('auth.updateAccount', {\n\t\t\t\t\t\t\taccount: account\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn cb(account);\n\t\t\t\t\t},\n\t\t\t\t\tfunction(err) {\n\t\t\t\t\t\treturn cb(err);\n\t\t\t\t\t}.bind(this)).$promise;\n\t\t\t},\n\n\t\t\tchangePassword: function(newPassword, callback) {\n\t\t\t\tvar cb = callback || angular.noop;\n\n\t\t\t\treturn Password.save(newPassword, function() {\n\t\t\t\t\treturn cb();\n\t\t\t\t}, function(err) {\n\t\t\t\t\treturn cb(err);\n\t\t\t\t}).$promise;\n\t\t\t},\n\n\t\t\tresetPasswordInit: function(mail, callback) {\n\t\t\t\tvar cb = callback || angular.noop;\n\n\t\t\t\treturn PasswordResetInit.save(mail, function() {\n\t\t\t\t\treturn cb();\n\t\t\t\t}, function(err) {\n\t\t\t\t\treturn cb(err);\n\t\t\t\t}).$promise;\n\t\t\t},\n\n\t\t\tresetPasswordFinish: function(keyAndPassword, callback) {\n\t\t\t\tvar cb = callback || angular.noop;\n\n\t\t\t\treturn PasswordResetFinish.save(keyAndPassword, function() {\n\t\t\t\t\treturn cb();\n\t\t\t\t}, function(err) {\n\t\t\t\t\treturn cb(err);\n\t\t\t\t}).$promise;\n\t\t\t}\n\t\t};\n\t}]);\n","'use strict';\n\nangular.module('adama-mobile').directive('hasAnyAuthority', ['Principal', function(Principal) {\n\treturn {\n\t\trestrict: 'A',\n\t\tlink: function(scope, element, attrs) {\n\t\t\tvar setVisible = function() {\n\t\t\t\telement.removeClass('hidden');\n\t\t\t};\n\t\t\tvar setHidden = function() {\n\t\t\t\telement.addClass('hidden');\n\t\t\t};\n\t\t\tvar authorities = attrs.hasAnyAuthority.replace(/\\s+/g, '').split(',');\n\t\t\tvar defineVisibility = function(reset) {\n\t\t\t\tvar result;\n\t\t\t\tif (reset) {\n\t\t\t\t\tsetVisible();\n\t\t\t\t}\n\n\t\t\t\tresult = Principal.hasAnyAuthority(authorities);\n\t\t\t\tif (result) {\n\t\t\t\t\tsetVisible();\n\t\t\t\t} else {\n\t\t\t\t\tsetHidden();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (authorities.length > 0) {\n\t\t\t\tdefineVisibility(true);\n\n\t\t\t\tscope.$watch(function() {\n\t\t\t\t\treturn Principal.isAuthenticated();\n\t\t\t\t}, function() {\n\t\t\t\t\tdefineVisibility(true);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}]).directive('hasAuthority', ['Principal', function(Principal) {\n\treturn {\n\t\trestrict: 'A',\n\t\tlink: function(scope, element, attrs) {\n\t\t\tvar setVisible = function() {\n\t\t\t\telement.removeClass('hidden');\n\t\t\t};\n\t\t\tvar setHidden = function() {\n\t\t\t\telement.addClass('hidden');\n\t\t\t};\n\t\t\tvar authority = attrs.hasAuthority.replace(/\\s+/g, '');\n\t\t\tvar defineVisibility = function(reset) {\n\n\t\t\t\tif (reset) {\n\t\t\t\t\tsetVisible();\n\t\t\t\t}\n\n\t\t\t\tPrincipal.hasAuthority(authority).then(function(result) {\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\tsetVisible();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetHidden();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tif (authority.length > 0) {\n\t\t\t\tdefineVisibility(true);\n\n\t\t\t\tscope.$watch(function() {\n\t\t\t\t\treturn Principal.isAuthenticated();\n\t\t\t\t}, function() {\n\t\t\t\t\tdefineVisibility(true);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}]);\n","'use strict';\n\nangular.module('adama-mobile')\n\t.factory('Principal', [\"$q\", \"Account\", function Principal($q, Account) {\n\t\tvar _identity;\n\t\tvar _authenticated = false;\n\n\t\treturn {\n\t\t\tisIdentityResolved: function() {\n\t\t\t\treturn angular.isDefined(_identity);\n\t\t\t},\n\t\t\tisAuthenticated: function() {\n\t\t\t\treturn _authenticated;\n\t\t\t},\n\t\t\thasAuthority: function(authority) {\n\t\t\t\tif (!_authenticated) {\n\t\t\t\t\treturn $q.when(false);\n\t\t\t\t}\n\n\t\t\t\treturn this.identity().then(function(_id) {\n\t\t\t\t\treturn _id.authorities && _id.authorities.indexOf(authority) !== -1;\n\t\t\t\t}, function() {\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t},\n\t\t\thasAnyAuthority: function(authorities) {\n\t\t\t\tif (!_authenticated || !_identity || !_identity.authorities) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0; i < authorities.length; i++) {\n\t\t\t\t\tif (_identity.authorities.indexOf(authorities[i]) !== -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tauthenticate: function(identity) {\n\t\t\t\t_identity = identity;\n\t\t\t\t_authenticated = identity !== null;\n\t\t\t},\n\t\t\tidentity: function(force) {\n\t\t\t\tvar deferred = $q.defer();\n\n\t\t\t\tif (force === true) {\n\t\t\t\t\t_identity = undefined;\n\t\t\t\t}\n\n\t\t\t\t// check and see if we have retrieved the identity data from the\n\t\t\t\t// server.\n\t\t\t\t// if we have, reuse it by immediately resolving\n\t\t\t\tif (angular.isDefined(_identity)) {\n\t\t\t\t\tdeferred.resolve(_identity);\n\n\t\t\t\t\treturn deferred.promise;\n\t\t\t\t}\n\n\t\t\t\t// retrieve the identity data from the server, update the\n\t\t\t\t// identity object, and then resolve.\n\t\t\t\tAccount.get().$promise\n\t\t\t\t\t.then(function(account) {\n\t\t\t\t\t\t_identity = account.data;\n\t\t\t\t\t\t_authenticated = true;\n\t\t\t\t\t\tdeferred.resolve(_identity);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function() {\n\t\t\t\t\t\t_identity = null;\n\t\t\t\t\t\t_authenticated = false;\n\t\t\t\t\t\tdeferred.resolve(_identity);\n\t\t\t\t\t});\n\t\t\t\treturn deferred.promise;\n\t\t\t}\n\t\t};\n\t}]);\n","'use strict';\n\nangular.module('adama-mobile').factory('authInterceptor', [\"$rootScope\", \"$q\", \"$location\", \"localStorageService\", function($rootScope, $q, $location, localStorageService) {\n\treturn {\n\t\t// Add authorization token to headers\n\t\trequest: function(config) {\n\t\t\tconfig.headers = config.headers || {};\n\t\t\tvar token = localStorageService.get('token');\n\n\t\t\tif (token && token.expires && token.expires > new Date().getTime()) {\n\t\t\t\tconfig.headers['x-auth-token'] = token.token;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t}\n\t};\n}]).factory('authExpiredInterceptor', [\"$rootScope\", \"$q\", \"$injector\", \"localStorageService\", function($rootScope, $q, $injector, localStorageService) {\n\treturn {\n\t\tresponseError: function(response) {\n\t\t\t// token has expired\n\t\t\tif (response.status === 401 && (response.data.error === 'invalid_token' || response.data.error === 'Unauthorized')) {\n\t\t\t\tlocalStorageService.remove('token');\n\t\t\t\tvar Principal = $injector.get('Principal');\n\t\t\t\tif (Principal.isAuthenticated()) {\n\t\t\t\t\tvar Auth = $injector.get('Auth');\n\t\t\t\t\tAuth.authorize(true);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn $q.reject(response);\n\t\t}\n\t};\n}]);\n","'use strict';\n\nangular.module('adama-mobile').factory('errorHandlerInterceptor', [\"$q\", \"$rootScope\", \"jHipsterConstant\", function($q, $rootScope, jHipsterConstant) {\n\treturn {\n\t\t'responseError': function(response) {\n\t\t\tif (!(response.status === 401 && response.data.path.indexOf('/api/account') === 0)) {\n\t\t\t\t$rootScope.$emit(jHipsterConstant.appModule + '.httpError', response);\n\t\t\t}\n\t\t\treturn $q.reject(response);\n\t\t}\n\t};\n}]);\n","'use strict';\n\nangular.module('adama-mobile').factory('notificationInterceptor', [\"$q\", \"AlertService\", \"jHipsterConstant\", function($q, AlertService, jHipsterConstant) {\n\treturn {\n\t\tresponse: function(response) {\n\t\t\tvar alertKey = response.headers('X-' + jHipsterConstant.appModule + '-alert');\n\t\t\tif (angular.isString(alertKey)) {\n\t\t\t\tAlertService.success(alertKey, {\n\t\t\t\t\tparam: response.headers('X-' + jHipsterConstant.appModule + '-params')\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn response;\n\t\t}\n\t};\n}]);\n","'use strict';\n\nangular.module('adama-mobile').factory('AuthServerProvider', [\"$http\", \"localStorageService\", \"Base64\", \"jHipsterConstant\", function loginService($http, localStorageService, Base64, jHipsterConstant) {\n\treturn {\n\t\tlogin: function(credentials) {\n\t\t\tvar data = 'username=' + encodeURIComponent(credentials.username) + '&password=' + encodeURIComponent(credentials.password);\n\t\t\treturn $http.post(jHipsterConstant.apiBase + 'api/authenticate', data, {\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t'Accept': 'application/json'\n\t\t\t\t}\n\t\t\t}).success(function(response) {\n\t\t\t\tlocalStorageService.set('token', response);\n\t\t\t\treturn response;\n\t\t\t});\n\t\t},\n\t\tlogout: function() {\n\t\t\t// Stateless API : No server logout\n\t\t\tlocalStorageService.clearAll();\n\t\t},\n\t\tgetToken: function() {\n\t\t\treturn localStorageService.get('token');\n\t\t},\n\t\thasValidToken: function() {\n\t\t\tvar token = this.getToken();\n\t\t\treturn token && token.expires && token.expires > new Date().getTime();\n\t\t}\n\t};\n}]);\n","'use strict';\n\nangular.module('adama-mobile')\n\t.factory('Account', [\"$resource\", \"jHipsterConstant\", function Account($resource, jHipsterConstant) {\n\t\treturn $resource(jHipsterConstant.apiBase + 'api/account', {}, {\n\t\t\t'get': {\n\t\t\t\tmethod: 'GET',\n\t\t\t\tparams: {},\n\t\t\t\tisArray: false,\n\t\t\t\tinterceptor: {\n\t\t\t\t\tresponse: function(response) {\n\t\t\t\t\t\t// expose response\n\t\t\t\t\t\treturn response;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}]);\n","'use strict';\n\nangular.module('adama-mobile').factory('Password', [\"$resource\", \"jHipsterConstant\", function($resource, jHipsterConstant) {\n\treturn $resource(jHipsterConstant.apiBase + 'api/account/change_password', {}, {});\n}]);\n\nangular.module('adama-mobile').factory('PasswordResetInit', [\"$resource\", \"jHipsterConstant\", function($resource, jHipsterConstant) {\n\treturn $resource(jHipsterConstant.apiBase + 'api/account/reset_password/init', {}, {});\n}]);\n\nangular.module('adama-mobile').factory('PasswordResetFinish', [\"$resource\", \"jHipsterConstant\", function($resource, jHipsterConstant) {\n\treturn $resource(jHipsterConstant.apiBase + 'api/account/reset_password/finish', {}, {});\n}]);\n"],"sourceRoot":"/source/"}